---
layout: post
title: Linux命令
date: 2019-03-12
tags: Linux  
---

<!-- TOC -->autoauto- [CentOS命令](#centos命令)auto- [Ubuntu命令](#ubuntu命令)autoauto<!-- /TOC -->

# CentOS命令

```bash
查看系统版本号：cat /proc/version
查看隐藏文件：ls -a
查看安装软件：yum list installed | grep elasticsearch.noarch
卸载安装软件：yum remove elasticsearch.noarch
查看运行进程：ps -aux
安装软件RPM：rpm -ivh filebeat-1.0.1-x86_64.rpm
查看文件安装路径：whereis logstash
查看资源占用情况：top
关闭服务：systemctl stop firewalld.service
关闭服务自启动：systemctl disable firewalld.service
查看服务状态：systemctl status firewalld.service
修改主机名字：hostnamectl set-hostname admin_keam
查看主机信息：hostnamectl
增加账户：useradd admin_keam   设置账户密码：passwd admin_keam   给新账户增加sudo权限命令：visudo（然后在打开的文件里，找到root ALL(ALL) ALL，往下新增一行admin_keam ALL(ALL) ALL）
更改文件或文件夹所属用户组：chown -R admin_keam /etc/elasticsearch
删除目录：rm -rf firefox
安装zip和unzip命令：yum install zip unzip
解压.zip文件：unzip client.zip
压缩.zip文件：zip -r client.zip client
解压.tgz文件：tar zxvf client.tgz -C client
查看网络端口占用情况：netstat -tunlp
ssh登入：ssh username@ip -p 22
ssh登出：logout
ssh传输：rz -bey
ssh接收：sz xxxx
远程执行命令：sshpass -p passwdxxx ssh -p 22 root@192.168.190.110 "source /etc/profile; cleanenv.sh"  # 注意：远程执行的时候，/etc/profile的全局环境变量是不加载的，只加载bashrc的环境变量，所以这里用到了的话，要动态加载一下
全系统查找文件：find / -name rabbitmq
后台运行：nohup ./xxxx &
覆盖写字符串到文件中：echo "xxxxxx" > /root/test.txt
追加写字符串到文件中：echo "xxxxxx" >> /root/test.txt
```

```txt
CentOS中安装Python3.6简单方法：https://blog.51cto.com/wenguonideshou/2083301
```

```txt
CentOS安装pip失败：https://www.cnblogs.com/saolv/p/6963314.html
```

```bash
# 如果想执行一连串命令，发现有各种相互依赖关系，可以按照如下方式执行。例如，这里想把对应的
a="$(who am i | awk '{print $2}')"; who | awk '{print $2}' | grep -v $a | xargs -n 1 pkill -9 -t
```

```txt
虚拟机中NAT模式下CentOS配置静态ip上网：
（1）首先配置静态ip：vim /etc/sysconfig/network-scripts/ifcfg-eth0
DEVICE="eth0"
HWADDR="00:0C:29:6C:BB:E6"
NM_CONTROLLED="yes"
ONBOOT="no"
NETMASK=255.255.255.0
IPADDR=192.168.0.8
GATEWAY=192.168.0.1
BOOTPROTO=static        # 这个是核心，默认是dncp
ONBOOT=yes
PEERDNS=yes
（2）宿主机（windows）找到本机dns服务器：cmd下，ipconfig
以太网适配器 以太网:

   DHCPv6 IAID . . . . . . . . . . . : 372284451
   DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-24-56-C9-BD-1A-F6-43-46-7D-5B
   DNS 服务器  . . . . . . . . . . . : 10.11.56.23
                                       10.11.56.22
                                       10.14.0.131
                                       10.14.0.130

（3）配置CentOS中的dns：vim /etc/resolv.conf
nameserver 10.11.56.23
nameserver 10.11.56.22
nameserver 10.14.0.131
nameserver 10.14.0.130
（4）重启network服务：service network restart

注意：如果是两台虚拟机拷贝，即使像上面这样修改了，有一台还是无法上网，原因是mac地址冲突了，两台虚拟机的mac地址一样。这个时候需要修改一下mac地址。
关闭虚拟机，然后编辑***.vmx文件，找到：

ethernet0.addressType = "generated"
uuid.bios = "56 4d ed 23 13 8c 96 91-7c 68 b2 09 8b aa bb cc"
ethernet0.generatedAddress = "00:0c:29:aa:bb:cc"

其中，uuid.bios的后6个数字，就是动态生成的网卡地址的后6位，将这后几位修改掉，就可以改变MAC地址值
```

```bash
# windows（10.17.14.12） ——> vm centos（192.168.2.132） ——> vm centos（172.17.0.2），如何建立隧道访问到虚拟机中的虚拟机
参考：https://eternalcenter.com/?p=2843
```

# Ubuntu命令

```txt
```